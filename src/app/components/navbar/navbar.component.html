<div (click)="switchOnCart()" [ngClass]="{'translate-x-0':switchCarts,'translate-x-full':switchCarts == false}" class="fixed z-20 top-20 bg-black/50 h-screen hidden md:block w-full "></div>

<nav class="flex h-20  justify-between z-50 px-5 xl:px-0 xl:justify-evenly py-5  bg-white  border-b fixed top-0  w-full  items-center ">


   <button (click)="switchOnNavbar()" class="flex flex-col outline-none gap-2 items-center  transition duration-500 hover:bg-zinc-200  hover:shadow-sm justify-center rounded-full   h-10 w-10 ">
    <span class="bg-zinc-500 h-[2px] w-1/2 block "></span>
    <span class="bg-zinc-500 h-[2px] w-1/2 block "></span>
   </button>



  <div>
    <h1 [routerLink]="['/home']" class="pacifico-regular font-extrabold cursor-pointer text-xl md:text-3xl xl:text-4xl text-color ">Foodify</h1>
  </div>




  <div class="flex justify-center pt-2 items-center gap-3">
<!-- search -->
 <div (click)="swithOnSearch()" class="rounded-full cursor-pointer flex justify-center items-center hover:shadow-sm h-10 w-10 hover:bg-zinc-200  transition duration-500">
      <i style="color: #71717a; " class="fa-solid fa-magnifying-glass fa-lg"></i> 
   
    </div>


    <!-- notification -->
    <div  (click)="swithOnNotification()" class="rounded-full cursor-pointer flex justify-center items-center relative hover:shadow-sm h-10 w-10 hover:bg-zinc-200  transition duration-500">
      <i style="color: #71717a; " class="fa-regular cursor-pointer fa-bell fa-lg"></i> 
      <span class="top-0 left-6 z-10 absolute  w-3.5 h-3.5 mainColor border-2 border-buffer rounded-full"></span>
    </div>

    <!-- cart -->
    <div (click)="switchOnCart()" class="rounded-full relative cursor-pointer flex justify-center items-center hover:shadow-sm h-10 w-10 hover:bg-zinc-200  transition duration-500">
      <i style="color: #71717a; " class="fa-solid fa-cart-shopping fa-lg"></i> 
      <span class="-top-1 left-6 z-10 absolute  flex justify-center items-center w-6 text-white font-semibold h-6 mainColor border-2 border-buffer rounded-full">{{_Cartservices.Statuscart().length}}</span>

    </div>



  </div>

</nav> 

<!-- search -->

<div>
  
<form   [ngClass]="{'translate-y-24':switchOffsearch,'-translate-y-full':switchOffsearch == false}" class=" z-40 w-full transition duration-500  md:w-1/2 xl:w-1/3 top-0 translate-x-1/2 right-1/2 fixed ">   
    <label for="search" class="block mb-2.5 text-sm font-medium text-heading sr-only ">Search</label>
    <div class="relative">
        <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
            <svg class="w-4 h-4 text-body" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"/></svg>
        </div>
        <input [(ngModel)]="searchValue" name="search" type="search" id="search" class="block w-full shadow-md  p-3 ps-9 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-base rounded-full outline-none focus:ring-brand focus:border-brand shadow-xs placeholder:text-body" placeholder="Search" required />
    </div>
</form>

</div>



<!-- notification -->
<div  [ngClass]="{'translate-y-24':switchNotification,'-translate-y-full':switchNotification == false}" id="toast-notification" class="w-full bg-white top-0 z-40 rounded-2xl shadow-md space-y-4 transition duration-500 md:max-w-xs fixed md:right-0 xl:right-56 2xl:right-96  p-3 text-body bg-neutral-primary-soft rounded-base shadow-xs border border-default" role="alert">
    <div class="flex items-center bg-neutral-tertiary py-2 px-2.5 rounded">
        <span class="text-sm font-medium text-heading">New notification</span>
    </div>
    <div class="flex">
       <p class="pacifico-regular font-semibold">The notifications feature will be available soon</p>
    </div>
    <div class="flex items-center space-x-3">
        <button (click)="swithOnNotification()"  type="button" data-dismiss-target="#toast-notification" class="w-full text-body bg-neutral-secondary-medium box-border border border-default-medium hover:bg-neutral-tertiary-medium hover:text-heading focus:ring-4 focus:ring-green-700 shadow-xs font-medium leading-5 rounded-base text-xs px-3 py-1.5 focus:outline-none">Close</button>
        <button type="button" class="w-full inline-flex items-center justify-center text-white bg-brand hover:bg-brand-strong box-border border border-transparent focus:ring-4 focus:ring-brand-medium shadow-xs font-medium leading-5 rounded-base text-xs px-3 py-1.5 focus:outline-none">
            <svg class="w-3.5 h-3.5 me-1.5 -ms-0.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 8.046H11V6.119c0-.921-.9-1.446-1.524-.894l-5.108 4.49a1.2 1.2 0 0 0 0 1.739l5.108 4.49c.624.556 1.524.027 1.524-.893v-1.928h2a3.023 3.023 0 0 1 3 3.046V19a5.593 5.593 0 0 0-1.5-10.954Z"/></svg>
            Reply
        </button> 
    </div>
</div>




<!-- divNavbar -->
 <div [ngClass]="{'translate-y-24':switchNavbar,'-translate-y-full':switchNavbar == false}"  class=" cursor-pointer w-full bg-white border  fixed left-0 2xl:left-40 p-3 top-0 flex flex-col gap-2 duration-500 transition md:w-1/2 2xl:w-1/4 rounded-2xl shadow-md z-40 ">
<a class="p-3 w-full text-center transition duration-500 hover:bg-zinc-200 rounded-xl font-semibold">Profile</a>
<a class="p-3 w-full text-center transition duration-500 hover:bg-zinc-200 rounded-xl font-semibold">Home</a>
<a class="p-3 w-full text-center transition duration-500 hover:bg-zinc-200 rounded-xl font-semibold">Categories</a>
<a class="p-3 w-full text-center transition duration-500 hover:bg-zinc-200 rounded-xl font-semibold">favorite</a>

 </div>



<!--div search  -->

<div [ngClass]="{'fixed':searchValue!== '','hidden':searchValue== ''}" class="h-2/4 shadow-md translate-x-1/2 right-1/2 top-36 border overflow-y-auto flex w-full md:w-1/2 xl:w-1/3 bg-white z-30  flex-col justify-start items-start rounded-md ">
  @for (reco of arrRecommend | searchByRecommend:searchValue; track $index) {
    <div class="flex justify-start p-2 w-full cursor-pointer gap-2  border-b-2 hover:bg-slate-200 ">
       <img class="rounded-full w-11 h-11" [src]="reco.image" alt="">
      <div class="flex flex-col ">
         <p class="pacifico-regular font-semibold">{{reco.name}}</p>
         <p>{{reco.description}}</p>
         <div class="flex justify-start gap-1">
         <img *ngFor="let stars of [].constructor(reco?.rating || 0)" src="../../../assets/Images_home/card/Vector (1).png" alt="">
         </div>
      </div>
    </div>

  }

</div>


<!-- cart -->

<div [ngClass]="{'translate-x-0':switchCarts,'translate-x-full':switchCarts == false}" class="h-screen p-3  right-0 transform transition duration-500 bg-white  w-full md:w-1/2 xl:w-1/3 2xl:w-1/5  shadow-md top-20 z-30 fixed">
<div class="flex items-start justify-between">
                <h2 id="drawer-title" class="text-lg font-medium pacifico-regular ">Foodify cart</h2>
                <div class="ml-3 flex h-7 items-center">
                  <button (click)="switchOnCart()" type="button" command="close" commandfor="drawer" class="relative -m-2 p-2 text-gray-400 hover:text-green-900" aria-expanded="true">
      
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-slot="icon" aria-hidden="true" class="size-6">
                      <path d="M6 18 18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                  </button>
                </div>
              </div>

               <div class="mt-8">
                  <ul role="list" class="-my-6 h-96 overflow-y-auto divide-y divide-gray-200">
                    @for (itemCart of _Cartservices.Statuscart() ; track $index) {
                    <li class="flex py-6">
                      <div class="size-24 shrink-0 overflow-hidden rounded-full border border-gray-200">
                        <img [src]="itemCart.image" alt="Salmon orange fabric pouch with match zipper, gray zipper pull, and adjustable hip belt." class="size-full object-cover">
                      </div>

                      <div class="ml-4 flex flex-1 flex-col">
                        <div>
                          <div class="flex justify-between text-base font-medium text-gray-900">
                            <h3>
                              <a href="#">{{itemCart.name}}</a>
                            </h3>
                            <p class="ml-4">{{itemCart.subtotal}}</p>
                          </div>
                          <p class="mt-1 text-sm text-gray-500">calories:  {{itemCart.kcal}}  Kcal</p>
                          <p class="mt-1 text-sm text-gray-500">price: {{itemCart.price | number:'1.0-0'}} EGP</p>
                        </div>
                        <div class="flex flex-1 items-end justify-between text-sm">
                          <p class="text-gray-500">Qty: {{itemCart.quantity}}</p>
                             <div class="flex items-center">
                                    <button (click)="decrement(itemCart)"  type="button" id="decrement-button" 
                                        data-input-counter-decrement="counter-input"
                                        class="inline-flex h-5 w-5 shrink-0 items-center justify-center rounded-md border border-gray-300 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 ">
                                        <svg class="h-2.5 w-2.5 text-gray-900 " aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 2">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                stroke-width="2" d="M1 1h16" />
                                        </svg>
                                    </button>
                                    <!-- incriment -->

                                    <!-- input -->
                                    <input  type="number " data-input-counter [value]="itemCart.quantity"
                                        class="w-10 shrink-0 border-0 bg-transparent text-center text-sm font-medium text-gray-900 focus:outline-none focus:ring-0 ">


                                    <button type="button"  (click)="Increment(itemCart)"
                                        data-input-counter-increment="counter-input"
                                        class="inline-flex h-5 w-5 shrink-0 items-center justify-center rounded-md border border-gray-300 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100">
                                        <svg class="h-2.5 w-2.5 text-gray-900 " aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                stroke-width="2" d="M9 1v16M1 9h16" />
                                        </svg>
                                    </button>
                                </div>
                          

                          <div class="flex">
                            <button (click)="DeleteItem(itemCart)" type="button" class="font-medium text-color">Remove</button>
                          </div>
                        </div>
                      </div>
                    </li>
                  }
                  </ul>
               </div>

<!-- checkout -->
               <div class="border-t  absolute bottom-44 bg-white w-full border-gray-200 pr-4 py-6 ">
             
              <div class="flex justify-between text-base font-medium text-gray-900">
                <p>items</p>
                <p>{{_Cartservices.summary().total_items}}</p>
              </div>

               <div class="flex justify-between text-base font-medium text-gray-900">
                <p>Subtotal</p>
                <p>{{_Cartservices.summary().total_price| number:'1.0-0'}} EGP</p>
              </div>
             
              <div class="mt-6">
                <a href="#" class="flex items-center justify-center rounded-md border border-transparent mainColor pr-6 py-3 text-base font-medium text-white shadow-xs ">Checkout</a>
              </div>
              <div class="mt-6 flex justify-center text-center text-sm text-gray-500">
                <p>
                  or
                  <button type="button" command="close" commandfor="drawer" class="font-medium text-color " aria-expanded="true">
                    Continue Shopping
                    <span aria-hidden="true"> â†’</span>
                  </button>
                </p>
              </div>
            </div>
            
</div>